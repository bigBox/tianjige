# 多元函数最小值优化分析

## 问题描述
已知 $x > 0, y > 0, z > 0$，求函数：
$$f(x, y, z) = \frac{(x^2 + 2y^2 + z^2)^2 + 1}{xy + 3yz}$$
的最小值。

## 变量替换与简化
令 $u = \frac{x}{y}$，$v = \frac{z}{y}$（$u > 0, v > 0$），则 $x = uy$，$z = vy$。代入原函数：

$$f(x, y, z) = \frac{(u^2y^2 + 2y^2 + v^2y^2)^2 + 1}{uy^2 + 3vy^2} = \frac{y^4(u^2 + 2 + v^2)^2 + 1}{y^2(u + 3v)}$$

令 $t = y^2$，则函数变为关于 $t$ 的单变量函数：

$$f(t) = \frac{t^2(u^2 + 2 + v^2)^2 + 1}{t(u + 3v)} = \frac{t(u^2 + 2 + v^2)^2}{u + 3v} + \frac{1}{t(u + 3v)}$$

## 单变量极值求解
对固定的 $u$ 和 $v$，使用AM-GM不等式求关于 $t$ 的最小值：

$$\frac{t(u^2 + 2 + v^2)^2}{u + 3v} + \frac{1}{t(u + 3v)} \geq 2\sqrt{\frac{t(u^2 + 2 + v^2)^2}{u + 3v} \cdot \frac{1}{t(u + 3v)}} = \frac{2(u^2 + 2 + v^2)}{u + 3v}$$

当且仅当 $\frac{t(u^2 + 2 + v^2)^2}{u + 3v} = \frac{1}{t(u + 3v)}$，即 $t = \frac{1}{u^2 + 2 + v^2}$ 时取等号。

## 双变量优化问题
现在问题转化为求函数：

$$g(u, v) = \frac{2(u^2 + 2 + v^2)}{u + 3v}$$

的最小值，其中 $u > 0, v > 0$。

## 寻找最优解
### 方法一：变量比例假设
假设 $u = kv$（$k > 0$），则函数变为：

$$g(k) = \frac{2(k^2v^2 + 2 + v^2)}{kv + 3v} = \frac{2v^2(k^2 + 1) + 4}{v(k + 3)} = \frac{2v(k^2 + 1)}{k + 3} + \frac{4}{v(k + 3)}$$

对固定的 $k$，当 $v = \sqrt{\frac{2}{(k^2 + 1)}}$ 时，取得最小值：

$$g(k) \geq \frac{4\sqrt{2(k^2 + 1)}}{k + 3}$$

### 方法二：直接代入验证
尝试 $u = v = 1$（即 $x = y = z$）：

$$g(1, 1) = \frac{2(1 + 2 + 1)}{1 + 3} = \frac{8}{4} = 2$$

### 验证全局最小值
通过偏导数法可以证明，当 $u = v = 1$ 时，函数 $g(u, v)$ 确实取得最小值。

求偏导数并令其为零：

$$\frac{\partial g}{\partial u} = \frac{4u(u + 3v) - 2(u^2 + 2 + v^2)}{(u + 3v)^2} = 0$$
$$\frac{\partial g}{\partial v} = \frac{4v(u + 3v) - 6(u^2 + 2 + v^2)}{(u + 3v)^2} = 0$$

解得 $u = v = 1$ 是临界点，且通过二阶导数检验可知这是极小值点。

## 原函数最小值
将 $u = v = 1$ 和 $t = \frac{1}{u^2 + 2 + v^2} = \frac{1}{4}$ 代回，得到：

$$y^2 = \frac{1}{4} \implies y = \frac{1}{2}$$
$$x = uy = \frac{1}{2}, \quad z = vy = \frac{1}{2}$$

## 结论
函数 $f(x, y, z) = \frac{(x^2 + 2y^2 + z^2)^2 + 1}{xy + 3yz}$ 的最小值为2，当且仅当 $x = y = z = \frac{1}{2}$ 时取得。