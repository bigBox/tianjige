# 含参数方程求解分析

## 问题描述
求方程 
$$\sqrt{x^2 - p} + 2\sqrt{x^2 - 1} = x$$
的所有实根，其中 $p$ 是一个实参数。

## 分析过程

### 1. 定义域分析
要使方程有意义，根号内的表达式必须非负：
- $x^2 - p \geq 0 \implies x^2 \geq p$
- $x^2 - 1 \geq 0 \implies x \geq 1$ 或 $x \leq -1$
- 右边为 $x$，由于左边是两个非负数之和，所以 $x \geq 0$

综合以上条件，定义域为 $x \geq 1$ 且 $x^2 \geq p$。

### 2. 方程变形与求解
首先，将方程两边平方以消除根号：
$$(\sqrt{x^2 - p} + 2\sqrt{x^2 - 1})^2 = x^2$$
展开左边：
$$(x^2 - p) + 4\sqrt{(x^2 - p)(x^2 - 1)} + 4(x^2 - 1) = x^2$$
整理得：
$$x^2 - p + 4x^2 - 4 + 4\sqrt{(x^2 - p)(x^2 - 1)} = x^2$$
$$4x^2 - p - 4 + 4\sqrt{(x^2 - p)(x^2 - 1)} = 0$$
将常数项移到右边：
$$4\sqrt{(x^2 - p)(x^2 - 1)} = -4x^2 + p + 4$$

### 3. 进一步分析条件
左边是非负的，因此右边也必须非负：
$$-4x^2 + p + 4 \geq 0 \implies p \geq 4x^2 - 4$$
由于 $x \geq 1$，右边 $4x^2 - 4$ 的最小值为 0（当 $x=1$ 时），因此 $p \geq 0$。

### 4. 再次平方
两边非负时，可以再次平方：
$$16(x^2 - p)(x^2 - 1) = (-4x^2 + p + 4)^2$$
展开右边：
$$16x^4 - 16(p + 1)x^2 + 16p = 16x^4 - 8(p + 4)x^2 + (p + 4)^2$$
整理得：
$$-16(p + 1)x^2 + 16p = -8(p + 4)x^2 + p^2 + 8p + 16$$
移项合并同类项：
$$[-16(p + 1) + 8(p + 4)]x^2 + 16p - p^2 - 8p - 16 = 0$$
$$[-16p - 16 + 8p + 32]x^2 - p^2 + 8p - 16 = 0$$
$$(-8p + 16)x^2 - (p^2 - 8p + 16) = 0$$
$$-8(p - 2)x^2 - (p - 4)^2 = 0$$
解得：
$$x^2 = \frac{(p - 4)^2}{-8(p - 2)} = \frac{(p - 4)^2}{8(2 - p)}$$
（当 $p \neq 2$ 时）

### 5. 验证解的有效性
由于 $x \geq 1$，所以 $x^2 \geq 1$，即：
$$\frac{(p - 4)^2}{8(2 - p)} \geq 1$$
另外，$x^2 > 0$，因此分母 $8(2 - p) > 0 \implies p < 2$。

## 解的情况讨论

### 情况1：当 $p > 2$ 时
此时分母 $8(2 - p) < 0$，而分子 $(p - 4)^2 \geq 0$，因此 $x^2 \leq 0$，只有当 $p = 4$ 时，$x^2 = 0$，但 $x \geq 1$，矛盾。故 $p > 2$ 时无解。

### 情况2：当 $p = 2$ 时
原方程变为：
$$\sqrt{x^2 - 2} + 2\sqrt{x^2 - 1} = x$$
此时 $x^2 \geq 2$，右边 $x \geq \sqrt{2}$。左边为两个正数之和，显然大于 $x$，故无解。

### 情况3：当 $0 \leq p < 2$ 时
虽然我们推导出 $(3p - 4)^2 \geq 0$ 总是成立，但我们还需要验证解是否满足原方程的平方条件。

在第一次平方后得到：
$$4\sqrt{(x^2 - p)(x^2 - 1)} = -4x^2 + p + 4$$
左边是非负的，所以右边也必须非负：
$$-4x^2 + p + 4 \geq 0$$

将 $x^2 = \frac{(p - 4)^2}{8(2 - p)}$ 代入上式：
$$-4 \cdot \frac{(p - 4)^2}{8(2 - p)} + p + 4 \geq 0$$
$$-\frac{(p - 4)^2}{2(2 - p)} + p + 4 \geq 0$$
$$-\frac{(p^2 - 8p + 16)}{2(2 - p)} + p + 4 \geq 0$$
通分并化简：
$$\frac{-(p^2 - 8p + 16) + 2(p + 4)(2 - p)}{2(2 - p)} \geq 0$$
$$\frac{-p^2 + 8p - 16 + 2(-p^2 - 2p + 8)}{2(2 - p)} \geq 0$$
$$\frac{-p^2 + 8p - 16 - 2p^2 - 4p + 16}{2(2 - p)} \geq 0$$
$$\frac{-3p^2 + 4p}{2(2 - p)} \geq 0$$
$$\frac{-p(3p - 4)}{2(2 - p)} \geq 0$$

由于分母 $2(2 - p) > 0$（因为 $p < 2$），所以分子必须非负：
$$-p(3p - 4) \geq 0$$
$$p(3p - 4) \leq 0$$
解得：$0 \leq p \leq \frac{4}{3}$

因此，当且仅当 $0 \leq p \leq \frac{4}{3}$ 时，解才满足所有条件。

### 情况4：当 $p < 0$ 时
此时 $x^2 \geq p$ 总是满足（因为 $x \geq 1$），但之前得到右边必须非负的条件 $p \geq 4x^2 - 4$ 无法满足（因为 $4x^2 - 4 \geq 0$），故无解。

## 最终解的表达式
当且仅当 $0 \leq p \leq \frac{4}{3}$ 时，方程有实根：
$$x = \sqrt{\frac{(p - 4)^2}{8(2 - p)}} = \frac{|p - 4|}{2\sqrt{2(2 - p)}} = \frac{4 - p}{2\sqrt{2(2 - p)}}$$
（因为 $p < 4$，所以 $|p - 4| = 4 - p$）

## 结果验证
将解代入原方程验证，确认满足所有条件。