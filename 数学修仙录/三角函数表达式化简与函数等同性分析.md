# 三角函数表达式化简与函数等同性分析

## 问题描述

例1 函数 $f(x) = \tan 3x$ 与函数 $g(x) = \frac{\sin x + \sin 3x + \sin 5x}{\cos x + \cos 3x + \cos 5x}$ 是否为同一函数，试说明理由。

## 问题分析

要判断两个函数是否为同一函数，需要从两个方面进行分析：
1. **定义域是否相同**
2. **对应关系是否相同**（即对于定义域内的每一个x值，两个函数的函数值是否相等）

### 1. 定义域分析

**函数$f(x) = \tan 3x$的定义域：**
$\tan 3x$的定义域是$3x \neq k\pi + \frac{\pi}{2}$（$k \in \mathbb{Z}$），即
$x \neq \frac{k\pi}{3} + \frac{\pi}{6}$（$k \in \mathbb{Z}$）

**函数$g(x)$的定义域：**
分母不能为零，即$\cos x + \cos 3x + \cos 5x \neq 0$
我们需要进一步分析分母何时为零。

### 2. 函数表达式化简

首先，我们尝试化简$g(x)$的表达式：

**分子：** $\sin x + \sin 3x + \sin 5x$
**分母：** $\cos x + \cos 3x + \cos 5x$

我们可以使用三角恒等式来化简：

#### 分子化简：

利用和差化积公式：
$\sin A + \sin B = 2\sin\frac{A+B}{2}\cos\frac{A-B}{2}$

首先将$\sin x + \sin 5x$进行化简：
$\sin x + \sin 5x = 2\sin 3x\cos 2x$

因此，分子变为：
$\sin x + \sin 3x + \sin 5x = 2\sin 3x\cos 2x + \sin 3x = \sin 3x(2\cos 2x + 1)$

#### 分母化简：

同样利用和差化积公式：
$\cos A + \cos B = 2\cos\frac{A+B}{2}\cos\frac{A-B}{2}$

首先将$\cos x + \cos 5x$进行化简：
$\cos x + \cos 5x = 2\cos 3x\cos 2x$

因此，分母变为：
$\cos x + \cos 3x + \cos 5x = 2\cos 3x\cos 2x + \cos 3x = \cos 3x(2\cos 2x + 1)$

#### 整体化简：

$g(x) = \frac{\sin 3x(2\cos 2x + 1)}{\cos 3x(2\cos 2x + 1)} = \frac{\sin 3x}{\cos 3x} = \tan 3x$（当$2\cos 2x + 1 \neq 0$且$\cos 3x \neq 0$时）

### 3. 定义域进一步分析

现在我们需要确定$g(x)$的定义域中需要排除的点：

1. $\cos 3x = 0$，即$3x = k\pi + \frac{\pi}{2}$（$k \in \mathbb{Z}$），即$x = \frac{k\pi}{3} + \frac{\pi}{6}$（$k \in \mathbb{Z}$）

2. $2\cos 2x + 1 = 0$，即$\cos 2x = -\frac{1}{2}$，解得$2x = \pm \frac{2\pi}{3} + 2k\pi$（$k \in \mathbb{Z}$），即$x = \pm \frac{\pi}{3} + k\pi$（$k \in \mathbb{Z}$）

因此，$g(x)$的定义域是：
$x \neq \frac{k\pi}{3} + \frac{\pi}{6}$（$k \in \mathbb{Z}$）且$x \neq \pm \frac{\pi}{3} + k\pi$（$k \in \mathbb{Z}$）

## 结论

$f(x)$和$g(x)$**不是**同一函数，理由如下：

1. **定义域不同**：
   - $f(x)$的定义域排除的是$x = \frac{k\pi}{3} + \frac{\pi}{6}$（$k \in \mathbb{Z}$）
   - $g(x)$的定义域除了排除上述点外，还需要排除$x = \pm \frac{\pi}{3} + k\pi$（$k \in \mathbb{Z}$）

2. **虽然在公共定义域内函数值相等**，但由于定义域不同，根据函数相等的定义，两个函数不是同一函数。

## 补充说明

我们可以通过具体的数值验证：

取$x = \frac{\pi}{3}$，这属于$x = \frac{\pi}{3} + 0 \cdot \pi$，即排除在$g(x)$定义域外的点，但不在$f(x)$的排除点中：

- $f(\frac{\pi}{3}) = \tan(3 \cdot \frac{\pi}{3}) = \tan \pi = 0$，有定义
- $g(\frac{\pi}{3})$的分母为$\cos \frac{\pi}{3} + \cos \pi + \cos \frac{5\pi}{3} = \frac{1}{2} - 1 + \frac{1}{2} = 0$，无定义

因此，在$x = \frac{\pi}{3}$处，$f(x)$有定义而$g(x)$无定义，进一步证明了两个函数不是同一函数。