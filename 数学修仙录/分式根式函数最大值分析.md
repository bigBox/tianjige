# 分式根式函数最大值分析

## 问题描述

例6 设$a > 0$，求函数 $f(x) = \frac{1 - x}{1 + x} \cdot \sqrt{\frac{1 + x + x^2}{1 - x + x^2}}$ 在区间 $[0, 1)$ 上的最大值。

## 问题分析

我们需要在区间 $[0, 1)$ 上找到函数 $f(x)$ 的最大值。首先观察函数的结构，然后通过求导等方法分析函数的单调性，进而找到最大值点。

## 函数变形与化简

首先，注意到函数中存在参数 $a$，但在函数表达式中并未出现 $a$。这可能是题目中的笔误，我们将基于给定的函数表达式进行分析。

为了简化计算，我们可以先对函数进行变形：

令 $f(x) = \frac{1 - x}{1 + x} \cdot \sqrt{\frac{1 + x + x^2}{1 - x + x^2}}$ 

我们可以考虑先研究函数的平方，这样可以去掉根号，简化计算：

$f^2(x) = \left(\frac{1 - x}{1 + x}\right)^2 \cdot \frac{1 + x + x^2}{1 - x + x^2}$

## 求导分析单调性

为了找到函数的最大值，我们可以对 $f(x)$ 求导，然后分析导数的符号变化。

首先，对 $f^2(x)$ 求导可能会更简单：

令 $g(x) = f^2(x) = \left(\frac{1 - x}{1 + x}\right)^2 \cdot \frac{1 + x + x^2}{1 - x + x^2}$

使用对数求导法：

$\ln g(x) = 2\ln(1 - x) - 2\ln(1 + x) + \frac{1}{2}\ln(1 + x + x^2) - \frac{1}{2}\ln(1 - x + x^2)$

对 $x$ 求导：

$\frac{g'(x)}{g(x)} = \frac{-2}{1 - x} - \frac{2}{1 + x} + \frac{1 + 2x}{2(1 + x + x^2)} + \frac{1 - 2x}{2(1 - x + x^2)}$

化简：

$\frac{g'(x)}{g(x)} = \frac{-4}{1 - x^2} + \frac{(1 + 2x)(1 - x + x^2) + (1 - 2x)(1 + x + x^2)}{2(1 + x + x^2)(1 - x + x^2)}$

计算分子部分：

$(1 + 2x)(1 - x + x^2) + (1 - 2x)(1 + x + x^2)$
$= (1 - x + x^2 + 2x - 2x^2 + 2x^3) + (1 + x + x^2 - 2x - 2x^2 - 2x^3)$
$= 2 - 2x^2$

分母部分：
$(1 + x + x^2)(1 - x + x^2) = (1 + x^2)^2 - x^2 = 1 + x^2 + x^4$

因此：

$\frac{g'(x)}{g(x)} = \frac{-4}{1 - x^2} + \frac{2 - 2x^2}{2(1 + x^2 + x^4)} = \frac{-4}{1 - x^2} + \frac{1 - x^2}{1 + x^2 + x^4}$

进一步化简：

$\frac{g'(x)}{g(x)} = \frac{-4(1 + x^2 + x^4) + (1 - x^2)^2}{(1 - x^2)(1 + x^2 + x^4)}$

计算分子：
$-4(1 + x^2 + x^4) + (1 - 2x^2 + x^4) = -4 - 4x^2 - 4x^4 + 1 - 2x^2 + x^4 = -3 - 6x^2 - 3x^4 = -3(1 + 2x^2 + x^4) = -3(1 + x^2)^2$

因此：

$\frac{g'(x)}{g(x)} = \frac{-3(1 + x^2)^2}{(1 - x^2)(1 + x^2 + x^4)}$

由于在区间 $[0, 1)$ 上，分母 $(1 - x^2)(1 + x^2 + x^4) > 0$，分子 $-3(1 + x^2)^2 < 0$，所以 $g'(x) < 0$ 在 $[0, 1)$ 上恒成立。

这说明 $g(x)$ 在 $[0, 1)$ 上是严格递减的，因此 $f(x) = \sqrt{g(x)}$ 在 $[0, 1)$ 上也是严格递减的（因为 $f(x) \geq 0$ 在 $[0, 1)$ 上）。

## 求最大值

由于 $f(x)$ 在 $[0, 1)$ 上严格递减，所以其最大值出现在区间的左端点 $x = 0$ 处。

计算 $f(0)$：

$f(0) = \frac{1 - 0}{1 + 0} \cdot \sqrt{\frac{1 + 0 + 0}{1 - 0 + 0}} = 1 \cdot 1 = 1$

## 验证分析

我们可以通过另一种方法验证这个结果，例如使用变量替换或不等式方法。

令 $x = \tan\frac{t}{2}$，其中 $t \in [0, \pi)$，则：

$\frac{1 - x}{1 + x} = \cos t$

另外，我们可以计算：

$1 + x + x^2 = 1 + \tan\frac{t}{2} + \tan^2\frac{t}{2} = \frac{\cos^2\frac{t}{2} + \sin\frac{t}{2}\cos\frac{t}{2} + \sin^2\frac{t}{2}}{\cos^2\frac{t}{2}} = \frac{1 + \sin\frac{t}{2}\cos\frac{t}{2}}{\cos^2\frac{t}{2}}$

$1 - x + x^2 = \frac{1 - \sin\frac{t}{2}\cos\frac{t}{2}}{\cos^2\frac{t}{2}}$

因此：

$\sqrt{\frac{1 + x + x^2}{1 - x + x^2}} = \sqrt{\frac{1 + \sin\frac{t}{2}\cos\frac{t}{2}}{1 - \sin\frac{t}{2}\cos\frac{t}{2}}} = \sqrt{\frac{1 + \frac{1}{2}\sin t}{1 - \frac{1}{2}\sin t}}$

所以，$f(x) = \cos t \cdot \sqrt{\frac{1 + \frac{1}{2}\sin t}{1 - \frac{1}{2}\sin t}}$

当 $t = 0$（即 $x = 0$）时，$f(x) = 1 \cdot 1 = 1$

当 $t$ 增大时（即 $x$ 增大时），$\cos t$ 减小，而 $\sqrt{\frac{1 + \frac{1}{2}\sin t}{1 - \frac{1}{2}\sin t}}$ 增大，但整体上 $f(x)$ 仍然是递减的，这与我们之前的分析一致。

## 结论

函数 $f(x) = \frac{1 - x}{1 + x} \cdot \sqrt{\frac{1 + x + x^2}{1 - x + x^2}}$ 在区间 $[0, 1)$ 上的最大值为 $1$，出现在 $x = 0$ 处。

## 补充说明

关于题目中提到的参数 $a > 0$，由于在函数表达式中并未出现，可能是题目描述的笔误。我们的分析基于给定的函数表达式进行。如果 $a$ 确实应该出现在函数中，可能需要进一步明确函数的正确形式。